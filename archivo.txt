--
-- PostgreSQL database dump
--

-- Dumped from database version 13.10
-- Dumped by pg_dump version 13.10

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: core_categoria; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_categoria (
    id bigint NOT NULL,
    nombre_categoria character varying(50) NOT NULL,
    descripcion character varying(150) NOT NULL,
    estado boolean NOT NULL
);


ALTER TABLE public.core_categoria OWNER TO postgres;

--
-- Name: core_categoria_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_categoria ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_categoria_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_detalleventa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_detalleventa (
    id bigint NOT NULL,
    cantidad integer NOT NULL,
    precio integer NOT NULL,
    subtotal integer NOT NULL,
    venta_id bigint NOT NULL
);


ALTER TABLE public.core_detalleventa OWNER TO postgres;

--
-- Name: core_detalleventa_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_detalleventa ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_detalleventa_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_detalleventa_productos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_detalleventa_productos (
    id bigint NOT NULL,
    detalleventa_id bigint NOT NULL,
    producto_id bigint NOT NULL
);


ALTER TABLE public.core_detalleventa_productos OWNER TO postgres;

--
-- Name: core_detalleventa_productos_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_detalleventa_productos ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_detalleventa_productos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_empleado; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_empleado (
    id bigint NOT NULL,
    nombres character varying(150) NOT NULL,
    rut character varying(12) NOT NULL,
    birth_date date NOT NULL,
    fecha_contrato date NOT NULL,
    fecha_fin_contrato date,
    usuario character varying(150) NOT NULL,
    password character varying(150) NOT NULL,
    email character varying(254) NOT NULL,
    phone character varying(12) NOT NULL,
    salario integer NOT NULL,
    estado boolean NOT NULL,
    avatar character varying(100)
);


ALTER TABLE public.core_empleado OWNER TO postgres;

--
-- Name: core_empleado_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_empleado ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_empleado_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_empleado_perfiles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_empleado_perfiles (
    id bigint NOT NULL,
    empleado_id bigint NOT NULL,
    perfil_id bigint NOT NULL
);


ALTER TABLE public.core_empleado_perfiles OWNER TO postgres;

--
-- Name: core_empleado_perfiles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_empleado_perfiles ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_empleado_perfiles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_perfil; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_perfil (
    id bigint NOT NULL,
    nombre_perfil character varying(150) NOT NULL,
    descripcion character varying(250) NOT NULL
);


ALTER TABLE public.core_perfil OWNER TO postgres;

--
-- Name: core_perfil_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_perfil ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_perfil_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_producto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_producto (
    id bigint NOT NULL,
    codigo_producto character varying(50) NOT NULL,
    nombre_producto character varying(150) NOT NULL,
    descripcion character varying(250) NOT NULL,
    stock integer NOT NULL,
    precio integer NOT NULL,
    estado boolean NOT NULL,
    imagen character varying(100),
    categoria_id bigint NOT NULL
);


ALTER TABLE public.core_producto OWNER TO postgres;

--
-- Name: core_producto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_producto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_producto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_producto_proveedores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_producto_proveedores (
    id bigint NOT NULL,
    producto_id bigint NOT NULL,
    proveedor_id bigint NOT NULL
);


ALTER TABLE public.core_producto_proveedores OWNER TO postgres;

--
-- Name: core_producto_proveedores_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_producto_proveedores ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_producto_proveedores_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_proveedor; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_proveedor (
    id bigint NOT NULL,
    nombre_proveedor character varying(150) NOT NULL,
    rut character varying(12) NOT NULL,
    email character varying(254) NOT NULL,
    phone character varying(12) NOT NULL,
    estado boolean NOT NULL
);


ALTER TABLE public.core_proveedor OWNER TO postgres;

--
-- Name: core_proveedor_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_proveedor ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_proveedor_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_venta; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.core_venta (
    id bigint NOT NULL,
    subtotal integer NOT NULL,
    iva integer NOT NULL,
    fecha_venta date NOT NULL,
    total integer NOT NULL,
    numero_venta integer NOT NULL,
    descuento integer NOT NULL,
    empleado_id bigint NOT NULL
);


ALTER TABLE public.core_venta OWNER TO postgres;

--
-- Name: core_venta_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.core_venta ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.core_venta_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: core_categoria core_categoria_nombre_categoria_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_categoria
    ADD CONSTRAINT core_categoria_nombre_categoria_key UNIQUE (nombre_categoria);


--
-- Name: core_categoria core_categoria_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_categoria
    ADD CONSTRAINT core_categoria_pkey PRIMARY KEY (id);


--
-- Name: core_detalleventa core_detalleventa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_detalleventa
    ADD CONSTRAINT core_detalleventa_pkey PRIMARY KEY (id);


--
-- Name: core_detalleventa_productos core_detalleventa_produc_detalleventa_id_producto_e2bf356d_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_detalleventa_productos
    ADD CONSTRAINT core_detalleventa_produc_detalleventa_id_producto_e2bf356d_uniq UNIQUE (detalleventa_id, producto_id);


--
-- Name: core_detalleventa_productos core_detalleventa_productos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_detalleventa_productos
    ADD CONSTRAINT core_detalleventa_productos_pkey PRIMARY KEY (id);


--
-- Name: core_empleado_perfiles core_empleado_perfiles_empleado_id_perfil_id_84235971_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado_perfiles
    ADD CONSTRAINT core_empleado_perfiles_empleado_id_perfil_id_84235971_uniq UNIQUE (empleado_id, perfil_id);


--
-- Name: core_empleado_perfiles core_empleado_perfiles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado_perfiles
    ADD CONSTRAINT core_empleado_perfiles_pkey PRIMARY KEY (id);


--
-- Name: core_empleado core_empleado_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado
    ADD CONSTRAINT core_empleado_pkey PRIMARY KEY (id);


--
-- Name: core_empleado core_empleado_rut_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado
    ADD CONSTRAINT core_empleado_rut_key UNIQUE (rut);


--
-- Name: core_empleado core_empleado_usuario_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado
    ADD CONSTRAINT core_empleado_usuario_key UNIQUE (usuario);


--
-- Name: core_perfil core_perfil_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_perfil
    ADD CONSTRAINT core_perfil_pkey PRIMARY KEY (id);


--
-- Name: core_producto core_producto_codigo_producto_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto
    ADD CONSTRAINT core_producto_codigo_producto_key UNIQUE (codigo_producto);


--
-- Name: core_producto core_producto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto
    ADD CONSTRAINT core_producto_pkey PRIMARY KEY (id);


--
-- Name: core_producto_proveedores core_producto_proveedore_producto_id_proveedor_id_49bfbd03_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto_proveedores
    ADD CONSTRAINT core_producto_proveedore_producto_id_proveedor_id_49bfbd03_uniq UNIQUE (producto_id, proveedor_id);


--
-- Name: core_producto_proveedores core_producto_proveedores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto_proveedores
    ADD CONSTRAINT core_producto_proveedores_pkey PRIMARY KEY (id);


--
-- Name: core_proveedor core_proveedor_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_proveedor
    ADD CONSTRAINT core_proveedor_pkey PRIMARY KEY (id);


--
-- Name: core_proveedor core_proveedor_rut_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_proveedor
    ADD CONSTRAINT core_proveedor_rut_key UNIQUE (rut);


--
-- Name: core_venta core_venta_numero_venta_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_venta
    ADD CONSTRAINT core_venta_numero_venta_key UNIQUE (numero_venta);


--
-- Name: core_venta core_venta_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_venta
    ADD CONSTRAINT core_venta_pkey PRIMARY KEY (id);


--
-- Name: core_categoria_nombre_categoria_b6843b4c_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_categoria_nombre_categoria_b6843b4c_like ON public.core_categoria USING btree (nombre_categoria varchar_pattern_ops);


--
-- Name: core_detalleventa_productos_detalleventa_id_399aa9bc; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_detalleventa_productos_detalleventa_id_399aa9bc ON public.core_detalleventa_productos USING btree (detalleventa_id);


--
-- Name: core_detalleventa_productos_producto_id_68ec3e75; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_detalleventa_productos_producto_id_68ec3e75 ON public.core_detalleventa_productos USING btree (producto_id);


--
-- Name: core_detalleventa_venta_id_55437c7d; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_detalleventa_venta_id_55437c7d ON public.core_detalleventa USING btree (venta_id);


--
-- Name: core_empleado_perfiles_empleado_id_cdfcffde; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_empleado_perfiles_empleado_id_cdfcffde ON public.core_empleado_perfiles USING btree (empleado_id);


--
-- Name: core_empleado_perfiles_perfil_id_71fc6e70; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_empleado_perfiles_perfil_id_71fc6e70 ON public.core_empleado_perfiles USING btree (perfil_id);


--
-- Name: core_empleado_rut_f0f148ea_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_empleado_rut_f0f148ea_like ON public.core_empleado USING btree (rut varchar_pattern_ops);


--
-- Name: core_empleado_usuario_d8648dad_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_empleado_usuario_d8648dad_like ON public.core_empleado USING btree (usuario varchar_pattern_ops);


--
-- Name: core_producto_categoria_id_65b2d0af; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_producto_categoria_id_65b2d0af ON public.core_producto USING btree (categoria_id);


--
-- Name: core_producto_codigo_producto_e14927ba_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_producto_codigo_producto_e14927ba_like ON public.core_producto USING btree (codigo_producto varchar_pattern_ops);


--
-- Name: core_producto_proveedores_producto_id_16745fdb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_producto_proveedores_producto_id_16745fdb ON public.core_producto_proveedores USING btree (producto_id);


--
-- Name: core_producto_proveedores_proveedor_id_cb1d3450; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_producto_proveedores_proveedor_id_cb1d3450 ON public.core_producto_proveedores USING btree (proveedor_id);


--
-- Name: core_proveedor_rut_a4d275cc_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_proveedor_rut_a4d275cc_like ON public.core_proveedor USING btree (rut varchar_pattern_ops);


--
-- Name: core_venta_empleado_id_89ab11b8; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX core_venta_empleado_id_89ab11b8 ON public.core_venta USING btree (empleado_id);


--
-- Name: core_detalleventa_productos core_detalleventa_pr_detalleventa_id_399aa9bc_fk_core_deta; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_detalleventa_productos
    ADD CONSTRAINT core_detalleventa_pr_detalleventa_id_399aa9bc_fk_core_deta FOREIGN KEY (detalleventa_id) REFERENCES public.core_detalleventa(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_detalleventa_productos core_detalleventa_pr_producto_id_68ec3e75_fk_core_prod; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_detalleventa_productos
    ADD CONSTRAINT core_detalleventa_pr_producto_id_68ec3e75_fk_core_prod FOREIGN KEY (producto_id) REFERENCES public.core_producto(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_detalleventa core_detalleventa_venta_id_55437c7d_fk_core_venta_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_detalleventa
    ADD CONSTRAINT core_detalleventa_venta_id_55437c7d_fk_core_venta_id FOREIGN KEY (venta_id) REFERENCES public.core_venta(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_empleado_perfiles core_empleado_perfiles_empleado_id_cdfcffde_fk_core_empleado_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado_perfiles
    ADD CONSTRAINT core_empleado_perfiles_empleado_id_cdfcffde_fk_core_empleado_id FOREIGN KEY (empleado_id) REFERENCES public.core_empleado(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_empleado_perfiles core_empleado_perfiles_perfil_id_71fc6e70_fk_core_perfil_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_empleado_perfiles
    ADD CONSTRAINT core_empleado_perfiles_perfil_id_71fc6e70_fk_core_perfil_id FOREIGN KEY (perfil_id) REFERENCES public.core_perfil(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_producto core_producto_categoria_id_65b2d0af_fk_core_categoria_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto
    ADD CONSTRAINT core_producto_categoria_id_65b2d0af_fk_core_categoria_id FOREIGN KEY (categoria_id) REFERENCES public.core_categoria(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_producto_proveedores core_producto_provee_producto_id_16745fdb_fk_core_prod; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto_proveedores
    ADD CONSTRAINT core_producto_provee_producto_id_16745fdb_fk_core_prod FOREIGN KEY (producto_id) REFERENCES public.core_producto(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_producto_proveedores core_producto_provee_proveedor_id_cb1d3450_fk_core_prov; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_producto_proveedores
    ADD CONSTRAINT core_producto_provee_proveedor_id_cb1d3450_fk_core_prov FOREIGN KEY (proveedor_id) REFERENCES public.core_proveedor(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: core_venta core_venta_empleado_id_89ab11b8_fk_core_empleado_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.core_venta
    ADD CONSTRAINT core_venta_empleado_id_89ab11b8_fk_core_empleado_id FOREIGN KEY (empleado_id) REFERENCES public.core_empleado(id) DEFERRABLE INITIALLY DEFERRED;


--
-- PostgreSQL database dump complete
--

